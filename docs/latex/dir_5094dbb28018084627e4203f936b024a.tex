\doxysection{node\+\_\+modules/mongodb Directory Reference}
\hypertarget{dir_5094dbb28018084627e4203f936b024a}{}\label{dir_5094dbb28018084627e4203f936b024a}\index{node\_modules/mongodb Directory Reference@{node\_modules/mongodb Directory Reference}}
\doxysubsubsection*{Directories}
\begin{DoxyCompactItemize}
\item 
directory \mbox{\hyperlink{dir_9c0be5083fcfdb9a196c3bcf1f2c4709}{etc}}
\item 
directory \mbox{\hyperlink{dir_e7e26f31035282d51c06fedd6839c26a}{lib}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
The official \href{https://www.mongodb.com/}{\texttt{ Mongo\+DB}} driver for Node.\+js.

{\bfseries{Upgrading to version 6? Take a look at our \href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/etc/notes/CHANGES_6.0.0.md}{\texttt{ upgrade guide here}}!}}\hypertarget{README.md_autotoc_md2474}{}\doxysubsection{\texorpdfstring{Quick Links}{Quick Links}}\label{README.md_autotoc_md2474}
\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{2}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Site   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Link    }\\\cline{1-2}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Site   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Link    }\\\cline{1-2}
\endhead
Documentation   &\href{https://www.mongodb.com/docs/drivers/node}{\texttt{ www.\+mongodb.\+com/docs/drivers/node}}    \\\cline{1-2}
API Docs   &\href{https://mongodb.github.io/node-mongodb-native}{\texttt{ mongodb.\+github.\+io/node-\/mongodb-\/native}}    \\\cline{1-2}
{\ttfamily npm} package   &\href{https://www.npmjs.com/package/mongodb}{\texttt{ www.\+npmjs.\+com/package/mongodb}}    \\\cline{1-2}
Mongo\+DB   &\href{https://www.mongodb.com}{\texttt{ www.\+mongodb.\+com}}    \\\cline{1-2}
Mongo\+DB University   &\href{https://learn.mongodb.com/catalog?labels=\%5B\%22Language\%22\%5D&values=\%5B\%22Node.js\%22\%5D}{\texttt{ learn.\+mongodb.\+com}}    \\\cline{1-2}
Mongo\+DB Developer Center   &\href{https://www.mongodb.com/developer/languages/javascript/}{\texttt{ www.\+mongodb.\+com/developer}}    \\\cline{1-2}
Stack Overflow   &\href{https://stackoverflow.com/search?q=\%28\%5Btypescript\%5D+or+\%5Bjavascript\%5D+or+\%5Bnode.js\%5D\%29+and+\%5Bmongodb\%5D}{\texttt{ stackoverflow.\+com}}    \\\cline{1-2}
Source Code   &\href{https://github.com/mongodb/node-mongodb-native}{\texttt{ github.\+com/mongodb/node-\/mongodb-\/native}}    \\\cline{1-2}
Upgrade to v6   &\href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/etc/notes/CHANGES_6.0.0.md}{\texttt{ etc/notes/\+CHANGES\+\_\+6.\+0.\+0.\+md}}    \\\cline{1-2}
Contributing   &\href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/CONTRIBUTING.md}{\texttt{ CONTRIBUTING.\+md}}    \\\cline{1-2}
Changelog   &\href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/HISTORY.md}{\texttt{ HISTORY.\+md}}   \\\cline{1-2}
\end{longtabu}
\hypertarget{README.md_autotoc_md2475}{}\doxysubsubsection{\texorpdfstring{Release Integrity}{Release Integrity}}\label{README.md_autotoc_md2475}
Releases are created automatically and signed using the \href{https://pgp.mongodb.com/node-driver.asc}{\texttt{ Node team\textquotesingle{}s GPG key}}. This applies to the git tag as well as all release packages provided as part of a Git\+Hub release. To verify the provided packages, download the key and import it using gpg\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{gpg\ -\/-\/import\ node-\/driver.asc}

\end{DoxyCode}


The Git\+Hub release contains a detached signature file for the NPM package (named {\ttfamily mongodb-\/\+X.\+Y.\+Z.\+tgz.\+sig}).

The following command returns the link npm package. 
\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ view\ mongodb@vX.Y.Z\ dist.tarball}

\end{DoxyCode}


Using the result of the above command, a {\ttfamily curl} command can return the official npm package for the release.

To verify the integrity of the downloaded package, run the following command\+: 
\begin{DoxyCode}{0}
\DoxyCodeLine{gpg\ -\/-\/verify\ mongodb-\/X.Y.Z.tgz.sig\ mongodb-\/X.Y.Z.tgz}

\end{DoxyCode}


\texorpdfstring{$>$}{>}\mbox{[}!\+Note\mbox{]} No verification is done when using npm to install the package. The contents of the Github tarball and npm\textquotesingle{}s tarball are identical.\hypertarget{README.md_autotoc_md2476}{}\doxysubsubsection{\texorpdfstring{Bugs / Feature Requests}{Bugs / Feature Requests}}\label{README.md_autotoc_md2476}
Think youâ€™ve found a bug? Want to see a new feature in {\ttfamily node-\/mongodb-\/native}? Please open a case in our issue management tool, JIRA\+:


\begin{DoxyItemize}
\item Create an account and login \href{https://jira.mongodb.org}{\texttt{ jira.\+mongodb.\+org}}.
\item Navigate to the NODE project \href{https://jira.mongodb.org/browse/NODE}{\texttt{ jira.\+mongodb.\+org/browse/\+NODE}}.
\item Click {\bfseries{Create Issue}} -\/ Please provide as much information as possible about the issue type and how to reproduce it.
\end{DoxyItemize}

Bug reports in JIRA for all driver projects (i.\+e. NODE, PYTHON, CSHARP, JAVA) and the Core Server (i.\+e. SERVER) project are {\bfseries{public}}.\hypertarget{README.md_autotoc_md2477}{}\doxysubsubsection{\texorpdfstring{Support / Feedback}{Support / Feedback}}\label{README.md_autotoc_md2477}
For issues with, questions about, or feedback for the Node.\+js driver, please look into our \href{https://www.mongodb.com/docs/manual/support}{\texttt{ support channels}}. Please do not email any of the driver developers directly with issues or questions -\/ you\textquotesingle{}re more likely to get an answer on the \href{https://community.mongodb.com/tags/c/drivers-odms-connectors/7/node-js-driver}{\texttt{ Mongo\+DB Community Forums}}.\hypertarget{README.md_autotoc_md2478}{}\doxysubsubsection{\texorpdfstring{Change Log}{Change Log}}\label{README.md_autotoc_md2478}
Change history can be found in \href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/HISTORY.md}{\texttt{ {\ttfamily HISTORY.\+md}}}.\hypertarget{README.md_autotoc_md2479}{}\doxysubsubsection{\texorpdfstring{Compatibility}{Compatibility}}\label{README.md_autotoc_md2479}
The driver currently supports 4.\+0+ servers.

\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*} 4.\+0 support is deprecated and support will be removed in an upcoming driver release. \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}

For exhaustive server and runtime version compatibility matrices, please refer to the following links\+:


\begin{DoxyItemize}
\item \href{https://www.mongodb.com/docs/drivers/node/current/compatibility/\#mongodb-compatibility}{\texttt{ Mongo\+DB}}
\item \href{https://www.mongodb.com/docs/drivers/node/current/compatibility/\#language-compatibility}{\texttt{ Node\+JS}}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md2480}{}\doxysubsubsubsection{\texorpdfstring{Component Support Matrix}{Component Support Matrix}}\label{README.md_autotoc_md2480}
The following table describes add-\/on component version compatibility for the Node.\+js driver. Only packages with versions in these supported ranges are stable when used in combination.

\tabulinesep=1mm
\begin{longtabu}spread 0pt [c]{*{6}{|X[-1]}|}
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@3.\+x}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@4.\+x}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@5.\+x}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@\texorpdfstring{$<$}{<}6.\+12}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@\texorpdfstring{$>$}{>}=6.\+12}    }\\\cline{1-6}
\endfirsthead
\hline
\endfoot
\hline
\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ Component   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@3.\+x}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@4.\+x}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@5.\+x}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@\texorpdfstring{$<$}{<}6.\+12}   }&\PBS\centering \cellcolor{\tableheadbgcolor}\textbf{ {\ttfamily mongodb@\texorpdfstring{$>$}{>}=6.\+12}    }\\\cline{1-6}
\endhead
\href{https://www.npmjs.com/package/bson}{\texttt{ bson}}   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}4.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}5.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}6.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}6.0.\+0    \\\cline{1-6}
\href{https://www.npmjs.com/package/bson-ext}{\texttt{ bson-\/ext}}   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0 $|$$|$ \texorpdfstring{$^\wedge$}{\string^}2.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}4.0.\+0   &N/A   &N/A   &N/A    \\\cline{1-6}
\href{https://www.npmjs.com/package/kerberos}{\texttt{ kerberos}}   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0 $|$$|$ \texorpdfstring{$^\wedge$}{\string^}2.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0 $|$$|$ \texorpdfstring{$^\wedge$}{\string^}2.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}2.0.\+1   &\texorpdfstring{$^\wedge$}{\string^}2.0.\+1    \\\cline{1-6}
\href{https://www.npmjs.com/package/mongodb-client-encryption}{\texttt{ mongodb-\/client-\/encryption}}   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0 $|$$|$ \texorpdfstring{$^\wedge$}{\string^}2.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}2.3.\+0   &\texorpdfstring{$^\wedge$}{\string^}6.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}6.0.\+0    \\\cline{1-6}
\href{https://www.npmjs.com/package/mongodb-legacy}{\texttt{ mongodb-\/legacy}}   &N/A   &\texorpdfstring{$^\wedge$}{\string^}4.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}5.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}6.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}6.0.\+0    \\\cline{1-6}
\href{https://www.npmjs.com/package/@mongodb-js/zstd}{\texttt{ @mongodb-\/js/zstd}}   &N/A   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}1.0.\+0   &\texorpdfstring{$^\wedge$}{\string^}1.1.\+0   &\texorpdfstring{$^\wedge$}{\string^}1.1.\+0 $|$$|$ \texorpdfstring{$^\wedge$}{\string^}2.0.\+0   \\\cline{1-6}
\end{longtabu}
\hypertarget{README.md_autotoc_md2481}{}\doxysubsubsubsection{\texorpdfstring{Typescript Version}{Typescript Version}}\label{README.md_autotoc_md2481}
We recommend using the latest version of typescript, however we currently ensure the driver\textquotesingle{}s public types compile against {\ttfamily typescript@4.\+4.\+0}. This is the lowest typescript version guaranteed to work with our driver\+: older versions may or may not work -\/ use at your own risk. Since typescript \href{https://github.com/Microsoft/TypeScript/wiki/Breaking-Changes}{\texttt{ does not restrict breaking changes to major versions}}, we consider this support best effort. If you run into any unexpected compiler failures against our supported Type\+Script versions, please let us know by filing an issue on our \href{https://jira.mongodb.org/browse/NODE}{\texttt{ JIRA}}.

Additionally, our Typescript types are compatible with the ECMAScript standard for our minimum supported Node version. Currently, our Typescript targets es2021.\hypertarget{README.md_autotoc_md2482}{}\doxysubsection{\texorpdfstring{Installation}{Installation}}\label{README.md_autotoc_md2482}
The recommended way to get started using the Node.\+js 5.\+x driver is by using the {\ttfamily npm} (Node Package Manager) to install the dependency in your project.

After you\textquotesingle{}ve created your own project using {\ttfamily npm init}, you can run\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ mongodb}

\end{DoxyCode}


This will download the Mongo\+DB driver and add a dependency entry in your {\ttfamily package.\+json} file.

If you are a Typescript user, you will need the Node.\+js type definitions to use the driver\textquotesingle{}s definitions\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ -\/D\ @types/node}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2483}{}\doxysubsection{\texorpdfstring{Driver Extensions}{Driver Extensions}}\label{README.md_autotoc_md2483}
The Mongo\+DB driver can optionally be enhanced by the following feature packages\+:

Maintained by Mongo\+DB\+:


\begin{DoxyItemize}
\item Zstd network compression -\/ \href{https://github.com/mongodb-js/zstd}{\texttt{ @mongodb-\/js/zstd}}
\item Mongo\+DB field level and queryable encryption -\/ \href{https://github.com/mongodb/libmongocrypt\#readme}{\texttt{ mongodb-\/client-\/encryption}}
\item GSSAPI / SSPI / Kerberos authentication -\/ \href{https://github.com/mongodb-js/kerberos}{\texttt{ kerberos}}
\end{DoxyItemize}

Some of these packages include native C++ extensions. Consult the \href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/etc/notes/native-extensions.md}{\texttt{ trouble shooting guide here}} if you run into compilation issues.

Third party\+:


\begin{DoxyItemize}
\item Snappy network compression -\/ \href{https://github.com/Brooooooklyn/snappy}{\texttt{ snappy}}
\item AWS authentication -\/ \href{https://github.com/aws/aws-sdk-js-v3/tree/main/packages/credential-providers}{\texttt{ @aws-\/sdk/credential-\/providers}}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md2484}{}\doxysubsection{\texorpdfstring{Quick Start}{Quick Start}}\label{README.md_autotoc_md2484}
This guide will show you how to set up a simple application using Node.\+js and Mongo\+DB. Its scope is only how to set up the driver and perform the simple CRUD operations. For more in-\/depth coverage, see the \href{https://www.mongodb.com/docs/drivers/node/}{\texttt{ official documentation}}.\hypertarget{README.md_autotoc_md2485}{}\doxysubsubsection{\texorpdfstring{Create the {\ttfamily package.\+json} file}{Create the {\ttfamily package.\+json} file}}\label{README.md_autotoc_md2485}
First, create a directory where your application will live.


\begin{DoxyCode}{0}
\DoxyCodeLine{mkdir\ myProject}
\DoxyCodeLine{cd\ myProject}

\end{DoxyCode}


Enter the following command and answer the questions to create the initial structure for your new project\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ init\ -\/y}

\end{DoxyCode}


Next, install the driver as a dependency.


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ mongodb}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2486}{}\doxysubsubsection{\texorpdfstring{Start a Mongo\+DB Server}{Start a Mongo\+DB Server}}\label{README.md_autotoc_md2486}
For complete Mongo\+DB installation instructions, see \href{https://www.mongodb.com/docs/manual/installation/}{\texttt{ the manual}}.


\begin{DoxyEnumerate}
\item Download the right Mongo\+DB version from \href{https://www.mongodb.org/downloads}{\texttt{ Mongo\+DB}}
\item Create a database directory (in this case under \texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}/data\texorpdfstring{$\ast$}{*}\texorpdfstring{$\ast$}{*}).
\item Install and start a {\ttfamily mongod} process.
\end{DoxyEnumerate}


\begin{DoxyCode}{0}
\DoxyCodeLine{mongod\ -\/-\/dbpath=/data}

\end{DoxyCode}


You should see the {\bfseries{mongod}} process start up and print some status information.\hypertarget{README.md_autotoc_md2487}{}\doxysubsubsection{\texorpdfstring{Connect to Mongo\+DB}{Connect to Mongo\+DB}}\label{README.md_autotoc_md2487}
Create a new {\bfseries{app.\+js}} file and add the following code to try out some basic CRUD operations using the Mongo\+DB driver.

Add code to connect to the server and the database {\bfseries{my\+Project}}\+:

\begin{quote}
{\bfseries{NOTE\+:}} Resolving DNS Connection issues

Node.\+js 18 changed the default DNS resolution ordering from always prioritizing IPv4 to the ordering returned by the DNS provider. In some environments, this can result in {\ttfamily localhost} resolving to an IPv6 address instead of IPv4 and a consequent failure to connect to the server.

This can be resolved by\+:


\begin{DoxyItemize}
\item specifying the IP address family using the Mongo\+Client {\ttfamily family} option ({\ttfamily Mongo\+Client(\texorpdfstring{$<$}{<}uri\texorpdfstring{$>$}{>}, \{ family\+: 4 \} )})
\item launching mongod or mongos with the ipv6 flag enabled (\href{https://www.mongodb.com/docs/manual/reference/program/mongod/\#std-option-mongod.--ipv6}{\texttt{ --ipv6 mongod option documentation}})
\item using a host of {\ttfamily 127.\+0.\+0.\+1} in place of localhost
\item specifying the DNS resolution ordering with the {\ttfamily -\/-\/dns-\/resolution-\/order} Node.\+js command line argument (e.\+g. {\ttfamily node -\/-\/dns-\/resolution-\/order=ipv4first}) 
\end{DoxyItemize}\end{quote}



\begin{DoxyCode}{0}
\DoxyCodeLine{const\ \{\ MongoClient\ \}\ =\ require('mongodb');}
\DoxyCodeLine{//\ or\ as\ an\ es\ module:}
\DoxyCodeLine{//\ import\ \{\ MongoClient\ \}\ from\ 'mongodb'}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Connection\ URL}
\DoxyCodeLine{const\ url\ =\ 'mongodb://localhost:27017';}
\DoxyCodeLine{const\ client\ =\ new\ MongoClient(url);}
\DoxyCodeLine{}
\DoxyCodeLine{//\ Database\ Name}
\DoxyCodeLine{const\ dbName\ =\ 'myProject';}
\DoxyCodeLine{}
\DoxyCodeLine{async\ function\ main()\ \{}
\DoxyCodeLine{\ \ //\ Use\ connect\ method\ to\ connect\ to\ the\ server}
\DoxyCodeLine{\ \ await\ client.connect();}
\DoxyCodeLine{\ \ console.log('Connected\ successfully\ to\ server');}
\DoxyCodeLine{\ \ const\ db\ =\ client.db(dbName);}
\DoxyCodeLine{\ \ const\ collection\ =\ db.collection('documents');}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ //\ the\ following\ code\ examples\ can\ be\ pasted\ here...}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ return\ 'done.';}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{main()}
\DoxyCodeLine{\ \ .then(console.log)}
\DoxyCodeLine{\ \ .catch(console.error)}
\DoxyCodeLine{\ \ .finally(()\ =>\ client.close());}

\end{DoxyCode}


Run your app from the command line with\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{node\ app.js}

\end{DoxyCode}


The application should print {\bfseries{Connected successfully to server}} to the console.\hypertarget{README.md_autotoc_md2488}{}\doxysubsubsection{\texorpdfstring{Insert a Document}{Insert a Document}}\label{README.md_autotoc_md2488}
Add to {\bfseries{app.\+js}} the following function which uses the {\bfseries{insert\+Many}} method to add three documents to the {\bfseries{documents}} collection.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ insertResult\ =\ await\ collection.insertMany([\{\ a:\ 1\ \},\ \{\ a:\ 2\ \},\ \{\ a:\ 3\ \}]);}
\DoxyCodeLine{console.log('Inserted\ documents\ =>',\ insertResult);}

\end{DoxyCode}


The {\bfseries{insert\+Many}} command returns an object with information about the insert operations.\hypertarget{README.md_autotoc_md2489}{}\doxysubsubsection{\texorpdfstring{Find All Documents}{Find All Documents}}\label{README.md_autotoc_md2489}
Add a query that returns all the documents.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ findResult\ =\ await\ collection.find(\{\}).toArray();}
\DoxyCodeLine{console.log('Found\ documents\ =>',\ findResult);}

\end{DoxyCode}


This query returns all the documents in the {\bfseries{documents}} collection. If you add this below the insert\+Many example, you\textquotesingle{}ll see the documents you\textquotesingle{}ve inserted.\hypertarget{README.md_autotoc_md2490}{}\doxysubsubsection{\texorpdfstring{Find Documents with a Query Filter}{Find Documents with a Query Filter}}\label{README.md_autotoc_md2490}
Add a query filter to find only documents which meet the query criteria.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ filteredDocs\ =\ await\ collection.find(\{\ a:\ 3\ \}).toArray();}
\DoxyCodeLine{console.log('Found\ documents\ filtered\ by\ \{\ a:\ 3\ \}\ =>',\ filteredDocs);}

\end{DoxyCode}


Only the documents which match `\textquotesingle{}a' \+: 3\`{} should be returned.\hypertarget{README.md_autotoc_md2491}{}\doxysubsubsection{\texorpdfstring{Update a document}{Update a document}}\label{README.md_autotoc_md2491}
The following operation updates a document in the {\bfseries{documents}} collection.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ updateResult\ =\ await\ collection.updateOne(\{\ a:\ 3\ \},\ \{\ \$set:\ \{\ b:\ 1\ \}\ \});}
\DoxyCodeLine{console.log('Updated\ documents\ =>',\ updateResult);}

\end{DoxyCode}


The method updates the first document where the field {\bfseries{a}} is equal to {\bfseries{3}} by adding a new field {\bfseries{b}} to the document set to {\bfseries{1}}. {\ttfamily update\+Result} contains information about whether there was a matching document to update or not.\hypertarget{README.md_autotoc_md2492}{}\doxysubsubsection{\texorpdfstring{Remove a document}{Remove a document}}\label{README.md_autotoc_md2492}
Remove the document where the field {\bfseries{a}} is equal to {\bfseries{3}}.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ deleteResult\ =\ await\ collection.deleteMany(\{\ a:\ 3\ \});}
\DoxyCodeLine{console.log('Deleted\ documents\ =>',\ deleteResult);}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2493}{}\doxysubsubsection{\texorpdfstring{Index a Collection}{Index a Collection}}\label{README.md_autotoc_md2493}
\href{https://www.mongodb.com/docs/manual/indexes/}{\texttt{ Indexes}} can improve your application\textquotesingle{}s performance. The following function creates an index on the {\bfseries{a}} field in the {\bfseries{documents}} collection.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ indexName\ =\ await\ collection.createIndex(\{\ a:\ 1\ \});}
\DoxyCodeLine{console.log('index\ name\ =',\ indexName);}

\end{DoxyCode}


For more detailed information, see the \href{https://www.mongodb.com/docs/manual/applications/indexes/}{\texttt{ indexing strategies page}}.\hypertarget{README.md_autotoc_md2494}{}\doxysubsection{\texorpdfstring{Error Handling}{Error Handling}}\label{README.md_autotoc_md2494}
If you need to filter certain errors from our driver, we have a helpful tree of errors described in \href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/etc/notes/errors.md}{\texttt{ etc/notes/errors.\+md}}.

It is our recommendation to use {\ttfamily instanceof} checks on errors and to avoid relying on parsing {\ttfamily error.\+message} and {\ttfamily error.\+name} strings in your code. We guarantee {\ttfamily instanceof} checks will pass according to semver guidelines, but errors may be sub-\/classed or their messages may change at any time, even patch releases, as we see fit to increase the helpfulness of the errors.

Any new errors we add to the driver will directly extend an existing error class and no existing error will be moved to a different parent class outside of a major release. This means {\ttfamily instanceof} will always be able to accurately capture the errors that our driver throws.


\begin{DoxyCode}{0}
\DoxyCodeLine{const\ client\ =\ new\ MongoClient(url);}
\DoxyCodeLine{await\ client.connect();}
\DoxyCodeLine{const\ collection\ =\ client.db().collection('collection');}
\DoxyCodeLine{}
\DoxyCodeLine{try\ \{}
\DoxyCodeLine{\ \ await\ collection.insertOne(\{\ \_id:\ 1\ \});}
\DoxyCodeLine{\ \ await\ collection.insertOne(\{\ \_id:\ 1\ \});\ //\ duplicate\ key\ error}
\DoxyCodeLine{\}\ catch\ (error)\ \{}
\DoxyCodeLine{\ \ if\ (error\ instanceof\ MongoServerError)\ \{}
\DoxyCodeLine{\ \ \ \ console.log(`Error\ worth\ logging:\ \$\{error\}`);\ //\ special\ case\ for\ some\ reason}
\DoxyCodeLine{\ \ \}}
\DoxyCodeLine{\ \ throw\ error;\ //\ still\ want\ to\ crash}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2495}{}\doxysubsection{\texorpdfstring{Nightly releases}{Nightly releases}}\label{README.md_autotoc_md2495}
If you need to test with a change from the latest {\ttfamily main} branch, our {\ttfamily mongodb} npm package has nightly versions released under the {\ttfamily nightly} tag.


\begin{DoxyCode}{0}
\DoxyCodeLine{npm\ install\ mongodb@nightly}

\end{DoxyCode}


Nightly versions are published regardless of testing outcome. This means there could be semantic breakages or partially implemented features. The nightly build is not suitable for production use.\hypertarget{README.md_autotoc_md2496}{}\doxysubsection{\texorpdfstring{Next Steps}{Next Steps}}\label{README.md_autotoc_md2496}

\begin{DoxyItemize}
\item \href{https://www.mongodb.com/docs/manual/}{\texttt{ Mongo\+DB Documentation}}
\item \href{https://www.mongodb.com/docs/drivers/node/}{\texttt{ Mongo\+DB Node Driver Documentation}}
\item \href{https://www.mongodb.com/docs/manual/core/data-modeling-introduction/}{\texttt{ Read about Schemas}}
\item \href{https://github.com/mongodb/node-mongodb-native}{\texttt{ Star us on Git\+Hub}}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md2497}{}\doxysubsection{\texorpdfstring{License}{License}}\label{README.md_autotoc_md2497}
\doxysectlink{md_node__modules_2mongodb_2_l_i_c_e_n_s_e}{Apache 2.0}{0}

Â© 2012-\/present Mongo\+DB \href{https://github.com/mongodb/node-mongodb-native/blob/HEAD/CONTRIBUTORS.md}{\texttt{ Contributors}} \textbackslash{} Â© 2009-\/2012 Christian Amor Kvalheim 