\doxysection{node\+\_\+modules/mpath Directory Reference}
\hypertarget{dir_756158e8b24fbdcc1e98101ea35da94e}{}\label{dir_756158e8b24fbdcc1e98101ea35da94e}\index{node\_modules/mpath Directory Reference@{node\_modules/mpath Directory Reference}}
\doxysubsubsection*{Directories}
\begin{DoxyCompactItemize}
\item 
directory \mbox{\hyperlink{dir_3484e74ac472a9c89e5adcf4957a8dbe}{lib}}
\item 
directory \mbox{\hyperlink{dir_5f16e768dd7e9ac369af162d9549c235}{test}}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
\#mpath

\{G,S\}et javascript object values using Mongo\+DB-\/like path notation.\hypertarget{README.md_autotoc_md2542}{}\doxysubsubsubsection{\texorpdfstring{Getting}{Getting}}\label{README.md_autotoc_md2542}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ mpath\ =\ require('mpath');}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.get('comments.1.title',\ obj)\ //\ 'exciting!'}

\end{DoxyCode}


{\ttfamily mpath.\+get} supports array property notation as well.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.get('comments.title',\ obj)\ //\ ['funny',\ 'exciting!']}

\end{DoxyCode}


Array property and indexing syntax, when used together, are very powerful.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ array:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ [4,6,8]\}\},\ \{\ y:\ 10\}\ ]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ [1,2,3]\}\},\ \{\ x:\ \{z:\ 10\ \}\},\ \{\ x:\ 'Turkey\ Day'\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ null\ \}\},\ \{\ x:\ \{\ b:\ [null,\ 1]\}\}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ null\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{y:\ 3\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [3,\ 0,\ null]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ name:\ 'ha'\ \}\}}
\DoxyCodeLine{\ \ ];}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{var\ found\ =\ mpath.get('array.o.array.x.b.1',\ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(found);\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \ \ [\ [6,\ undefined]}
\DoxyCodeLine{\ \ \ \ ,\ [2,\ undefined,\ undefined]}
\DoxyCodeLine{\ \ \ \ ,\ [null,\ 1]}
\DoxyCodeLine{\ \ \ \ ,\ [null]}
\DoxyCodeLine{\ \ \ \ ,\ [undefined]}
\DoxyCodeLine{\ \ \ \ ,\ [undefined,\ undefined,\ undefined]}
\DoxyCodeLine{\ \ \ \ ,\ undefined}
\DoxyCodeLine{\ \ \ \ ]}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2543}{}\doxysubsubsubsubsubsection{\texorpdfstring{Field selection rules\+:}{Field selection rules\+:}}\label{README.md_autotoc_md2543}
The following rules are iteratively applied to each {\ttfamily segment} in the passed {\ttfamily path}. For example\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ path\ =\ 'one.two.14';\ //\ path}
\DoxyCodeLine{'one'\ //\ segment\ 0}
\DoxyCodeLine{'two'\ //\ segment\ 1}
\DoxyCodeLine{14\ \ \ \ //\ segment\ 2}

\end{DoxyCode}



\begin{DoxyItemize}
\item 1) when value of the segment parent is not an array, return the value of {\ttfamily parent.\+segment}
\item 2) when value of the segment parent is an array
\begin{DoxyItemize}
\item a) if the segment is an integer, replace the parent array with the value at {\ttfamily parent\mbox{[}segment\mbox{]}}
\item b) if not an integer, keep the array but replace each array {\ttfamily item} with the value returned from calling {\ttfamily get(remaining\+Segments, item)} or undefined if falsey.
\end{DoxyItemize}
\end{DoxyItemize}\hypertarget{README.md_autotoc_md2544}{}\doxysubsubsubsubsubsection{\texorpdfstring{Maps}{Maps}}\label{README.md_autotoc_md2544}
{\ttfamily mpath.\+get} also accepts an optional {\ttfamily map} argument which receives each individual found value. The value returned from the {\ttfamily map} function will be used in the original found values place.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.get('comments.title',\ obj,\ function\ (val)\ \{}
\DoxyCodeLine{\ \ return\ 'funny'\ ==\ val}
\DoxyCodeLine{\ \ \ \ ?\ 'amusing'}
\DoxyCodeLine{\ \ \ \ :\ val;}
\DoxyCodeLine{\});}
\DoxyCodeLine{//\ ['amusing',\ 'exciting!']}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2545}{}\doxysubsubsubsection{\texorpdfstring{Setting}{Setting}}\label{README.md_autotoc_md2545}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('comments.1.title',\ 'hilarious',\ obj)}
\DoxyCodeLine{console.log(obj.comments[1].title)\ //\ 'hilarious'}

\end{DoxyCode}


{\ttfamily mpath.\+set} supports the same array property notation as {\ttfamily mpath.\+get}.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('comments.title',\ ['hilarious',\ 'fruity'],\ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(obj);\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \{\ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'hilarious'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'fruity'\ \}}
\DoxyCodeLine{\ \ ]\}}

\end{DoxyCode}


Array property and indexing syntax can be used together also when setting.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ array:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ [4,6,8]\}\},\ \{\ y:\ 10\}\ ]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ [1,2,3]\}\},\ \{\ x:\ \{z:\ 10\ \}\},\ \{\ x:\ 'Turkey\ Day'\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ null\ \}\},\ \{\ x:\ \{\ b:\ [null,\ 1]\}\}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ null\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{y:\ 3\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [3,\ 0,\ null]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ name:\ 'ha'\ \}\}}
\DoxyCodeLine{\ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('array.1.o',\ 'this\ was\ changed',\ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(require('util').inspect(obj,\ false,\ 1000));\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ array:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ [4,6,8]\}\},\ \{\ y:\ 10\}\ ]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ 'this\ was\ changed'\ \}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ \{b:\ null\ \}\},\ \{\ x:\ \{\ b:\ [null,\ 1]\}\}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ null\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{y:\ 3\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [3,\ 0,\ null]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ name:\ 'ha'\ \}\}}
\DoxyCodeLine{\ \ ];}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('array.o.array.x',\ 'this\ was\ changed\ too',\ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(require('util').inspect(obj,\ false,\ 1000));\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\{}
\DoxyCodeLine{\ \ array:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ o:\ \{\ array:\ [\{x:\ 'this\ was\ changed\ too'\},\ \{\ y:\ 10,\ x:\ 'this\ was\ changed\ too'\}\ ]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ 'this\ was\ changed'\ \}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ 'this\ was\ changed\ too'\},\ \{\ x:\ 'this\ was\ changed\ too'\}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ 'this\ was\ changed\ too'\}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [\{x:\ 'this\ was\ changed\ too',\ y:\ 3\ \}]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ array:\ [3,\ 0,\ null]\ \}\}}
\DoxyCodeLine{\ \ \ \ ,\ \{\ o:\ \{\ name:\ 'ha'\ \}\}}
\DoxyCodeLine{\ \ ];}
\DoxyCodeLine{\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2546}{}\doxysubsubsubsubsection{\texorpdfstring{Setting arrays}{Setting arrays}}\label{README.md_autotoc_md2546}
By default, setting a property within an array to another array results in each element of the new array being set to the item in the destination array at the matching index. An example is helpful.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('comments.title',\ ['hilarious',\ 'fruity'],\ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(obj);\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \{\ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'hilarious'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'fruity'\ \}}
\DoxyCodeLine{\ \ ]\}}

\end{DoxyCode}


If we do not desire this destructuring-\/like assignment behavior we may instead specify the {\ttfamily \$} operator in the path being set to force the array to be copied directly.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('comments.\$.title',\ ['hilarious',\ 'fruity'],\ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(obj);\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \{\ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ ['hilarious',\ 'fruity']\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ ['hilarious',\ 'fruity']\ \}}
\DoxyCodeLine{\ \ ]\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2547}{}\doxysubsubsubsubsection{\texorpdfstring{Field assignment rules}{Field assignment rules}}\label{README.md_autotoc_md2547}
The rules utilized mirror those used on {\ttfamily mpath.\+get}, meaning we can take values returned from {\ttfamily mpath.\+get}, update them, and reassign them using {\ttfamily mpath.\+set}. Note that setting nested arrays of arrays can get unweildy quickly. Check out the \href{https://github.com/aheckmann/mpath/blob/master/test/index.js}{\texttt{ tests}} for more extreme examples.\hypertarget{README.md_autotoc_md2548}{}\doxysubsubsubsubsubsection{\texorpdfstring{Maps}{Maps}}\label{README.md_autotoc_md2548}
{\ttfamily mpath.\+set} also accepts an optional {\ttfamily map} argument which receives each individual value being set. The value returned from the {\ttfamily map} function will be used in the original values place.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'funny'\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!'\ \}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.set('comments.title',\ ['hilarious',\ 'fruity'],\ obj,\ function\ (val)\ \{}
\DoxyCodeLine{\ \ return\ val.length;}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{console.log(obj);\ //\ prints..}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ \{\ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 9\ \},}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 6\ \}}
\DoxyCodeLine{\ \ ]\}}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2549}{}\doxysubsubsubsection{\texorpdfstring{Custom object types}{Custom object types}}\label{README.md_autotoc_md2549}
Sometimes you may want to enact the same functionality on custom object types that store all their real data internally, say for an ODM type object. No fear, {\ttfamily mpath} has you covered. Simply pass the name of the property being used to store the internal data and it will be traversed instead\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ mpath\ =\ require('mpath');}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{}
\DoxyCodeLine{\ \ \ \ comments:\ [}
\DoxyCodeLine{\ \ \ \ \ \ \{\ title:\ 'exciting!',\ \_doc:\ \{\ title:\ 'great!'\ \}\}}
\DoxyCodeLine{\ \ \ \ ]}
\DoxyCodeLine{\}}
\DoxyCodeLine{}
\DoxyCodeLine{mpath.get('comments.0.title',\ obj,\ '\_doc')\ \ \ \ \ \ \ \ \ \ \ \ //\ 'great!'}
\DoxyCodeLine{mpath.set('comments.0.title',\ 'nov\ 3rd',\ obj,\ '\_doc')}
\DoxyCodeLine{mpath.get('comments.0.title',\ obj,\ '\_doc')\ \ \ \ \ \ \ \ \ \ \ \ //\ 'nov\ 3rd'}
\DoxyCodeLine{mpath.get('comments.0.title',\ obj)\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ //\ 'exciting'}

\end{DoxyCode}


When used with a {\ttfamily map}, the {\ttfamily map} argument comes last.


\begin{DoxyCode}{0}
\DoxyCodeLine{mpath.get(path,\ obj,\ '\_doc',\ map);}
\DoxyCodeLine{mpath.set(path,\ val,\ obj,\ '\_doc',\ map);}

\end{DoxyCode}


\href{https://github.com/aheckmann/mpath/blob/master/LICENSE}{\texttt{ LICENSE}} 