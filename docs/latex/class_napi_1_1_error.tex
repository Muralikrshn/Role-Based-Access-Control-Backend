\doxysection{Napi\+::Error Class Reference}
\hypertarget{class_napi_1_1_error}{}\label{class_napi_1_1_error}\index{Napi::Error@{Napi::Error}}


{\ttfamily \#include $<$napi.\+h$>$}

Inheritance diagram for Napi\+::Error\+:\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[height=4.000000cm]{class_napi_1_1_error}
\end{center}
\end{figure}
\doxysubsubsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_napi_1_1_error_a714b6238f61928c96dfb5f26f6cc7d4d}\label{class_napi_1_1_error_a714b6238f61928c96dfb5f26f6cc7d4d} 
{\bfseries Error} (napi\+\_\+env env, napi\+\_\+value value)
\item 
\Hypertarget{class_napi_1_1_error_a81c2bd290ca363a61a40c23df266aaef}\label{class_napi_1_1_error_a81c2bd290ca363a61a40c23df266aaef} 
{\bfseries Error} (\mbox{\hyperlink{class_napi_1_1_error}{Error}} \&\&other)
\item 
\Hypertarget{class_napi_1_1_error_aac98daca548f2710dedaf64b42ef5896}\label{class_napi_1_1_error_aac98daca548f2710dedaf64b42ef5896} 
\mbox{\hyperlink{class_napi_1_1_error}{Error}} \& {\bfseries operator=} (\mbox{\hyperlink{class_napi_1_1_error}{Error}} \&\&other)
\item 
\Hypertarget{class_napi_1_1_error_a77b16e4bd465422b164149fb007eb96a}\label{class_napi_1_1_error_a77b16e4bd465422b164149fb007eb96a} 
{\bfseries Error} (const \mbox{\hyperlink{class_napi_1_1_error}{Error}} \&)
\item 
\Hypertarget{class_napi_1_1_error_abf00f5423acf56a075f5885abca53c84}\label{class_napi_1_1_error_abf00f5423acf56a075f5885abca53c84} 
\mbox{\hyperlink{class_napi_1_1_error}{Error}} \& {\bfseries operator=} (const \mbox{\hyperlink{class_napi_1_1_error}{Error}} \&)
\item 
\Hypertarget{class_napi_1_1_error_ae204fdaa5bce015df8749f4c79792ecc}\label{class_napi_1_1_error_ae204fdaa5bce015df8749f4c79792ecc} 
const std\+::string \& {\bfseries Message} () const NAPI\+\_\+\+NOEXCEPT
\item 
\Hypertarget{class_napi_1_1_error_af657bb938d951eccca6cf9e4983601d9}\label{class_napi_1_1_error_af657bb938d951eccca6cf9e4983601d9} 
void {\bfseries Throw\+As\+Java\+Script\+Exception} () const
\item 
\Hypertarget{class_napi_1_1_error_a6c7dc04ee866899cca8bfe9bbc76bbe3}\label{class_napi_1_1_error_a6c7dc04ee866899cca8bfe9bbc76bbe3} 
\mbox{\hyperlink{class_napi_1_1_object}{Object}} {\bfseries Value} () const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_napi_1_1_object_reference}{Napi\+::\+Object\+Reference}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Object\+Reference} (napi\+\_\+env env, napi\+\_\+ref ref)
\item 
{\bfseries Object\+Reference} (\mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&\&other)
\item 
\mbox{\hyperlink{class_napi_1_1_object_reference}{Object\+Reference}} \& {\bfseries operator=} (\mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&\&other)
\item 
{\bfseries Object\+Reference} (\mbox{\hyperlink{class_napi_1_1_object_reference}{Object\+Reference}} \&\&other)
\item 
\mbox{\hyperlink{class_napi_1_1_object_reference}{Object\+Reference}} \& {\bfseries operator=} (\mbox{\hyperlink{class_napi_1_1_object_reference}{Object\+Reference}} \&\&other)
\item 
Maybe\+Or\+Value$<$ \mbox{\hyperlink{class_napi_1_1_value}{Napi\+::\+Value}} $>$ {\bfseries Get} (const char \texorpdfstring{$\ast$}{*}utf8name) const
\item 
Maybe\+Or\+Value$<$ \mbox{\hyperlink{class_napi_1_1_value}{Napi\+::\+Value}} $>$ {\bfseries Get} (const std\+::string \&utf8name) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const char \texorpdfstring{$\ast$}{*}utf8name, napi\+\_\+value value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const char \texorpdfstring{$\ast$}{*}utf8name, \mbox{\hyperlink{class_napi_1_1_value}{Napi\+::\+Value}} value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const char \texorpdfstring{$\ast$}{*}utf8name, const char \texorpdfstring{$\ast$}{*}utf8value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const char \texorpdfstring{$\ast$}{*}utf8name, bool bool\+Value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const char \texorpdfstring{$\ast$}{*}utf8name, double number\+Value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const std\+::string \&utf8name, napi\+\_\+value value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const std\+::string \&utf8name, \mbox{\hyperlink{class_napi_1_1_value}{Napi\+::\+Value}} value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const std\+::string \&utf8name, std\+::string \&utf8value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const std\+::string \&utf8name, bool bool\+Value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (const std\+::string \&utf8name, double number\+Value) const
\item 
Maybe\+Or\+Value$<$ \mbox{\hyperlink{class_napi_1_1_value}{Napi\+::\+Value}} $>$ {\bfseries Get} (uint32\+\_\+t index) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (uint32\+\_\+t index, const napi\+\_\+value value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (uint32\+\_\+t index, const \mbox{\hyperlink{class_napi_1_1_value}{Napi\+::\+Value}} value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (uint32\+\_\+t index, const char \texorpdfstring{$\ast$}{*}utf8value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (uint32\+\_\+t index, const std\+::string \&utf8value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (uint32\+\_\+t index, bool bool\+Value) const
\item 
Maybe\+Or\+Value$<$ bool $>$ {\bfseries Set} (uint32\+\_\+t index, double number\+Value) const
\end{DoxyCompactItemize}
\doxysubsection*{Public Member Functions inherited from \mbox{\hyperlink{class_napi_1_1_reference}{Napi\+::\+Reference$<$ Object $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Reference} (napi\+\_\+env env, napi\+\_\+ref ref)
\item 
{\bfseries Reference} (\mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&\&other)
\item 
\mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \& {\bfseries operator=} (\mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&\&other)
\item 
{\bfseries operator napi\+\_\+ref} () const
\item 
bool {\bfseries operator==} (const \mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&other) const
\item 
bool {\bfseries operator!=} (const \mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&other) const
\item 
\mbox{\hyperlink{class_napi_1_1_env}{Napi\+::\+Env}} {\bfseries Env} () const
\item 
bool {\bfseries Is\+Empty} () const
\item 
\mbox{\hyperlink{class_napi_1_1_object}{Object}} {\bfseries Value} () const
\item 
uint32\+\_\+t {\bfseries Ref} () const
\item 
uint32\+\_\+t {\bfseries Unref} () const
\item 
void {\bfseries Reset} ()
\item 
void {\bfseries Reset} (const \mbox{\hyperlink{class_napi_1_1_object}{Object}} \&value, uint32\+\_\+t refcount=0)
\item 
void {\bfseries Suppress\+Destruct} ()
\end{DoxyCompactItemize}
\doxysubsubsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_napi_1_1_error_a6a0571d56b4fcedf862b934a507a58ed}\label{class_napi_1_1_error_a6a0571d56b4fcedf862b934a507a58ed} 
static \mbox{\hyperlink{class_napi_1_1_error}{Error}} {\bfseries New} (napi\+\_\+env env)
\item 
\Hypertarget{class_napi_1_1_error_a97f33d9530097e7ec4de83917acba24c}\label{class_napi_1_1_error_a97f33d9530097e7ec4de83917acba24c} 
static \mbox{\hyperlink{class_napi_1_1_error}{Error}} {\bfseries New} (napi\+\_\+env env, const char \texorpdfstring{$\ast$}{*}message)
\item 
\Hypertarget{class_napi_1_1_error_ae13e4bc27413ecd12dcfb6603f16cfa2}\label{class_napi_1_1_error_ae13e4bc27413ecd12dcfb6603f16cfa2} 
static \mbox{\hyperlink{class_napi_1_1_error}{Error}} {\bfseries New} (napi\+\_\+env env, const std\+::string \&message)
\item 
\Hypertarget{class_napi_1_1_error_a0ae7d1cd97cff6799f276677f3e15361}\label{class_napi_1_1_error_a0ae7d1cd97cff6799f276677f3e15361} 
static NAPI\+\_\+\+NO\+\_\+\+RETURN void {\bfseries Fatal} (const char \texorpdfstring{$\ast$}{*}location, const char \texorpdfstring{$\ast$}{*}message)
\end{DoxyCompactItemize}
\doxysubsection*{Static Public Member Functions inherited from \mbox{\hyperlink{class_napi_1_1_reference}{Napi\+::\+Reference$<$ Object $>$}}}
\begin{DoxyCompactItemize}
\item 
static \mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ {\bfseries New} (const \mbox{\hyperlink{class_napi_1_1_object}{Object}} \&value, uint32\+\_\+t initial\+Refcount=0)
\end{DoxyCompactItemize}
\doxysubsubsection*{Protected Types}
\begin{DoxyCompactItemize}
\item 
using \mbox{\hyperlink{class_napi_1_1_error_a135deffa3a3dea0edc4c10f8b800be77}{create\+\_\+error\+\_\+fn}}
\begin{DoxyCompactList}\small\item\em !cond INTERNAL \end{DoxyCompactList}\end{DoxyCompactItemize}
\doxysubsubsection*{Static Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\Hypertarget{class_napi_1_1_error_add0e5205e4feef70d7db5291bb1bf730}\label{class_napi_1_1_error_add0e5205e4feef70d7db5291bb1bf730} 
{\footnotesize template$<$typename TError$>$ }\\static TError {\bfseries New} (napi\+\_\+env env, const char \texorpdfstring{$\ast$}{*}message, size\+\_\+t length, \mbox{\hyperlink{class_napi_1_1_error_a135deffa3a3dea0edc4c10f8b800be77}{create\+\_\+error\+\_\+fn}} create\+\_\+error)
\end{DoxyCompactItemize}
\doxysubsubsection*{Additional Inherited Members}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{class_napi_1_1_object_reference}{Napi\+::\+Object\+Reference}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Object\+Reference} (const \mbox{\hyperlink{class_napi_1_1_object_reference}{Object\+Reference}} \&)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Member Functions inherited from \mbox{\hyperlink{class_napi_1_1_reference}{Napi\+::\+Reference$<$ Object $>$}}}
\begin{DoxyCompactItemize}
\item 
{\bfseries Reference} (const \mbox{\hyperlink{class_napi_1_1_reference}{Reference}}$<$ \mbox{\hyperlink{class_napi_1_1_object}{Object}} $>$ \&)
\end{DoxyCompactItemize}
\doxysubsection*{Protected Attributes inherited from \mbox{\hyperlink{class_napi_1_1_reference}{Napi\+::\+Reference$<$ Object $>$}}}
\begin{DoxyCompactItemize}
\item 
napi\+\_\+env {\bfseries \+\_\+env}
\begin{DoxyCompactList}\small\item\em !cond INTERNAL \end{DoxyCompactList}\item 
napi\+\_\+ref {\bfseries \+\_\+ref}
\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
A persistent reference to a Java\+Script error object. Use of this class depends somewhat on whether C++ exceptions are enabled at compile time.\hypertarget{class_napi_1_1_error_autotoc_md2767}{}\doxysubsubsubsection{\texorpdfstring{Handling Errors With C++ Exceptions}{Handling Errors With C++ Exceptions}}\label{class_napi_1_1_error_autotoc_md2767}
If C++ exceptions are enabled, then the {\ttfamily \doxylink{class_napi_1_1_error}{Error}} class extends {\ttfamily std\+::exception} and enables integrated error-\/handling for C++ exceptions and Java\+Script exceptions.

If a Node-\/\+API call fails without executing any Java\+Script code (for example due to an invalid argument), then the Node-\/\+API wrapper automatically converts and throws the error as a C++ exception of type {\ttfamily \doxylink{class_napi_1_1_error}{Napi\+::\+Error}}. Or if a Java\+Script function called by C++ code via Node-\/\+API throws a Java\+Script exception, then the Node-\/\+API wrapper automatically converts and throws it as a C++ exception of type {\ttfamily \doxylink{class_napi_1_1_error}{Napi\+::\+Error}}.

If a C++ exception of type {\ttfamily \doxylink{class_napi_1_1_error}{Napi\+::\+Error}} escapes from a Node-\/\+API C++ callback, then the Node-\/\+API wrapper automatically converts and throws it as a Java\+Script exception. Therefore, catching a C++ exception of type {\ttfamily \doxylink{class_napi_1_1_error}{Napi\+::\+Error}} prevents a Java\+Script exception from being thrown.\hypertarget{class_napi_1_1_error_autotoc_md2768}{}\doxysubsubsubsubsection{\texorpdfstring{Example 1A -\/ Throwing a C++ exception\+:}{Example 1A -\/ Throwing a C++ exception\+:}}\label{class_napi_1_1_error_autotoc_md2768}
\begin{DoxyVerb}Napi::Env env = ...
throw Napi::Error::New(env, "Example exception");
\end{DoxyVerb}


Following C++ statements will not be executed. The exception will bubble up as a C++ exception of type {\ttfamily \doxylink{class_napi_1_1_error}{Napi\+::\+Error}}, until it is either caught while still in C++, or else automatically propataged as a Java\+Script exception when the callback returns to Java\+Script.\hypertarget{class_napi_1_1_error_autotoc_md2769}{}\doxysubsubsubsubsection{\texorpdfstring{Example 2A -\/ Propagating a Node-\/\+API C++ exception\+:}{Example 2A -\/ Propagating a Node-\/\+API C++ exception\+:}}\label{class_napi_1_1_error_autotoc_md2769}
\begin{DoxyVerb}Napi::Function jsFunctionThatThrows = someObj.As<Napi::Function>();
Napi::Value result = jsFunctionThatThrows({ arg1, arg2 });
\end{DoxyVerb}


Following C++ statements will not be executed. The exception will bubble up as a C++ exception of type {\ttfamily \doxylink{class_napi_1_1_error}{Napi\+::\+Error}}, until it is either caught while still in C++, or else automatically propagated as a Java\+Script exception when the callback returns to Java\+Script.\hypertarget{class_napi_1_1_error_autotoc_md2770}{}\doxysubsubsubsubsection{\texorpdfstring{Example 3A -\/ Handling a Node-\/\+API C++ exception\+:}{Example 3A -\/ Handling a Node-\/\+API C++ exception\+:}}\label{class_napi_1_1_error_autotoc_md2770}
\begin{DoxyVerb}Napi::Function jsFunctionThatThrows = someObj.As<Napi::Function>();
Napi::Value result;
try {
   result = jsFunctionThatThrows({ arg1, arg2 });
} catch (const Napi::Error& e) {
  cerr << "Caught JavaScript exception: " + e.what();
}
\end{DoxyVerb}


Since the exception was caught here, it will not be propagated as a Java\+Script exception.\hypertarget{class_napi_1_1_error_autotoc_md2771}{}\doxysubsubsubsection{\texorpdfstring{Handling Errors Without C++ Exceptions}{Handling Errors Without C++ Exceptions}}\label{class_napi_1_1_error_autotoc_md2771}
If C++ exceptions are disabled (by defining {\ttfamily NAPI\+\_\+\+DISABLE\+\_\+\+CPP\+\_\+\+EXCEPTIONS}) then this class does not extend {\ttfamily std\+::exception}, and APIs in the {\ttfamily \doxylink{namespace_napi}{Napi}} namespace do not throw C++ exceptions when they fail. Instead, they raise {\itshape pending} Java\+Script exceptions and return {\itshape empty} {\ttfamily \doxylink{class_napi_1_1_value}{Value}}s. Calling code should check {\ttfamily \doxylink{class_napi_1_1_value_a988bdb3e9806beb7761b4ea864461005}{Value\+::\+Is\+Empty()}} before attempting to use a returned value, and may use methods on the {\ttfamily \doxylink{class_napi_1_1_env}{Env}} class to check for, get, and clear a pending Java\+Script exception. If the pending exception is not cleared, it will be thrown when the native callback returns to Java\+Script.\hypertarget{class_napi_1_1_error_autotoc_md2772}{}\doxysubsubsubsubsection{\texorpdfstring{Example 1B -\/ Throwing a JS exception}{Example 1B -\/ Throwing a JS exception}}\label{class_napi_1_1_error_autotoc_md2772}
\begin{DoxyVerb}Napi::Env env = ...
Napi::Error::New(env, "Example
exception").ThrowAsJavaScriptException(); return;
\end{DoxyVerb}


After throwing a JS exception, the code should generally return immediately from the native callback, after performing any necessary cleanup.\hypertarget{class_napi_1_1_error_autotoc_md2773}{}\doxysubsubsubsubsection{\texorpdfstring{Example 2B -\/ Propagating a Node-\/\+API JS exception\+:}{Example 2B -\/ Propagating a Node-\/\+API JS exception\+:}}\label{class_napi_1_1_error_autotoc_md2773}
\begin{DoxyVerb}Napi::Function jsFunctionThatThrows = someObj.As<Napi::Function>();
Napi::Value result = jsFunctionThatThrows({ arg1, arg2 });
if (result.IsEmpty()) return;
\end{DoxyVerb}


An empty value result from a Node-\/\+API call indicates an error occurred, and a Java\+Script exception is pending. To let the exception propagate, the code should generally return immediately from the native callback, after performing any necessary cleanup.\hypertarget{class_napi_1_1_error_autotoc_md2774}{}\doxysubsubsubsubsection{\texorpdfstring{Example 3B -\/ Handling a Node-\/\+API JS exception\+:}{Example 3B -\/ Handling a Node-\/\+API JS exception\+:}}\label{class_napi_1_1_error_autotoc_md2774}
\begin{DoxyVerb}Napi::Function jsFunctionThatThrows = someObj.As<Napi::Function>();
Napi::Value result = jsFunctionThatThrows({ arg1, arg2 });
if (result.IsEmpty()) {
  Napi::Error e = env.GetAndClearPendingException();
  cerr << "Caught JavaScript exception: " + e.Message();
}
\end{DoxyVerb}


Since the exception was cleared here, it will not be propagated as a Java\+Script exception after the native callback returns. 

\doxysubsection{Member Typedef Documentation}
\Hypertarget{class_napi_1_1_error_a135deffa3a3dea0edc4c10f8b800be77}\index{Napi::Error@{Napi::Error}!create\_error\_fn@{create\_error\_fn}}
\index{create\_error\_fn@{create\_error\_fn}!Napi::Error@{Napi::Error}}
\doxysubsubsection{\texorpdfstring{create\_error\_fn}{create\_error\_fn}}
{\footnotesize\ttfamily \label{class_napi_1_1_error_a135deffa3a3dea0edc4c10f8b800be77} 
using \mbox{\hyperlink{class_napi_1_1_error_a135deffa3a3dea0edc4c10f8b800be77}{Napi\+::\+Error\+::create\+\_\+error\+\_\+fn}}\hspace{0.3cm}{\ttfamily [protected]}}

{\bfseries Initial value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{\ napi\_status\ (*)(napi\_env\ envb,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ napi\_value\ code,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ napi\_value\ msg,}
\DoxyCodeLine{\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ napi\_value*\ result)}

\end{DoxyCode}


!cond INTERNAL 



The documentation for this class was generated from the following files\+:\begin{DoxyCompactItemize}
\item 
node\+\_\+modules/node-\/addon-\/api/napi.\+h\item 
node\+\_\+modules/node-\/addon-\/api/napi-\/inl.\+h\end{DoxyCompactItemize}
