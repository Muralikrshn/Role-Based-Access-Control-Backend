\doxysection{node\+\_\+modules/kareem Directory Reference}
\hypertarget{dir_48bc4fc81a66dc89dd5da5a32ec25d48}{}\label{dir_48bc4fc81a66dc89dd5da5a32ec25d48}\index{node\_modules/kareem Directory Reference@{node\_modules/kareem Directory Reference}}


\doxysubsection{Detailed Description}
\href{https://github.com/mongoosejs/kareem/actions/workflows/test.yml}{\texttt{ }}

Re-\/imagined take on the \href{http://npmjs.org/package/hooks}{\texttt{ hooks}} module, meant to offer additional flexibility in allowing you to execute hooks whenever necessary, as opposed to simply wrapping a single function.

Named for the NBA\textquotesingle{}s all-\/time leading scorer Kareem Abdul-\/\+Jabbar, known for his mastery of the \href{http://en.wikipedia.org/wiki/Kareem_Abdul-Jabbar\#Skyhook}{\texttt{ hook shot}}

\hypertarget{README.md_autotoc_md2125}{}\doxysubsection{\texorpdfstring{API}{API}}\label{README.md_autotoc_md2125}
\hypertarget{README.md_autotoc_md2126}{}\doxysubsubsection{\texorpdfstring{pre hooks}{pre hooks}}\label{README.md_autotoc_md2126}
Much like \href{https://npmjs.org/package/hooks}{\texttt{ hooks}}, kareem lets you define pre and post hooks\+: pre hooks are called before a given function executes. Unlike hooks, kareem stores hooks and other internal state in a separate object, rather than relying on inheritance. Furthermore, kareem exposes an {\ttfamily exec\+Pre()} function that allows you to execute your pre hooks when appropriate, giving you more fine-\/grained control over your function hooks.\hypertarget{README.md_autotoc_md2127}{}\doxysubsubsubsubsection{\texorpdfstring{It runs without any hooks specified}{It runs without any hooks specified}}\label{README.md_autotoc_md2127}

\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.execPre('cook',\ null,\ function()\ \{}
\DoxyCodeLine{\ \ //\ ...}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2128}{}\doxysubsubsubsubsection{\texorpdfstring{It runs basic serial pre hooks}{It runs basic serial pre hooks}}\label{README.md_autotoc_md2128}
pre hook functions take one parameter, a "{}done"{} function that you execute when your pre hook is finished.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ count\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(done)\ \{}
\DoxyCodeLine{\ \ ++count;}
\DoxyCodeLine{\ \ done();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPre('cook',\ null,\ function()\ \{}
\DoxyCodeLine{\ \ assert.equal(1,\ count);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2129}{}\doxysubsubsubsubsection{\texorpdfstring{It can run multipe pre hooks}{It can run multipe pre hooks}}\label{README.md_autotoc_md2129}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ count1\ =\ 0;}
\DoxyCodeLine{var\ count2\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(done)\ \{}
\DoxyCodeLine{\ \ ++count1;}
\DoxyCodeLine{\ \ done();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(done)\ \{}
\DoxyCodeLine{\ \ ++count2;}
\DoxyCodeLine{\ \ done();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPre('cook',\ null,\ function()\ \{}
\DoxyCodeLine{\ \ assert.equal(1,\ count1);}
\DoxyCodeLine{\ \ assert.equal(1,\ count2);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2130}{}\doxysubsubsubsubsection{\texorpdfstring{It can run fully synchronous pre hooks}{It can run fully synchronous pre hooks}}\label{README.md_autotoc_md2130}
If your pre hook function takes no parameters, its assumed to be fully synchronous.


\begin{DoxyCode}{0}
\DoxyCodeLine{var\ count1\ =\ 0;}
\DoxyCodeLine{var\ count2\ =\ 0;}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function()\ \{}
\DoxyCodeLine{\ \ ++count1;}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function()\ \{}
\DoxyCodeLine{\ \ ++count2;}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPre('cook',\ null,\ function(error)\ \{}
\DoxyCodeLine{\ \ assert.equal(null,\ error);}
\DoxyCodeLine{\ \ assert.equal(1,\ count1);}
\DoxyCodeLine{\ \ assert.equal(1,\ count2);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2131}{}\doxysubsubsubsubsection{\texorpdfstring{It properly attaches context to pre hooks}{It properly attaches context to pre hooks}}\label{README.md_autotoc_md2131}
Pre save hook functions are bound to the second parameter to {\ttfamily exec\+Pre()}


\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.pre('cook',\ function(done)\ \{}
\DoxyCodeLine{\ \ this.bacon\ =\ 3;}
\DoxyCodeLine{\ \ done();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(done)\ \{}
\DoxyCodeLine{\ \ this.eggs\ =\ 4;}
\DoxyCodeLine{\ \ done();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{\ bacon:\ 0,\ eggs:\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{//\ In\ the\ pre\ hooks,\ \`{}this`\ will\ refer\ to\ \`{}obj`}
\DoxyCodeLine{hooks.execPre('cook',\ obj,\ function(error)\ \{}
\DoxyCodeLine{\ \ assert.equal(null,\ error);}
\DoxyCodeLine{\ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\ \ assert.equal(4,\ obj.eggs);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2132}{}\doxysubsubsubsubsection{\texorpdfstring{It can execute parallel (async) pre hooks}{It can execute parallel (async) pre hooks}}\label{README.md_autotoc_md2132}
Like the hooks module, you can declare "{}async"{} pre hooks -\/ these take two parameters, the functions {\ttfamily next()} and {\ttfamily done()}. {\ttfamily next()} passes control to the next pre hook, but the underlying function won\textquotesingle{}t be called until all async pre hooks have called {\ttfamily done()}.


\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.pre('cook',\ true,\ function(next,\ done)\ \{}
\DoxyCodeLine{\ \ this.bacon\ =\ 3;}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\ \ setTimeout(function()\ \{}
\DoxyCodeLine{\ \ \ \ done();}
\DoxyCodeLine{\ \ \},\ 5);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ true,\ function(next,\ done)\ \{}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\ \ var\ \_this\ =\ this;}
\DoxyCodeLine{\ \ setTimeout(function()\ \{}
\DoxyCodeLine{\ \ \ \ \_this.eggs\ =\ 4;}
\DoxyCodeLine{\ \ \ \ done();}
\DoxyCodeLine{\ \ \},\ 10);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(next)\ \{}
\DoxyCodeLine{\ \ this.waffles\ =\ false;}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{\ bacon:\ 0,\ eggs:\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPre('cook',\ obj,\ function()\ \{}
\DoxyCodeLine{\ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\ \ assert.equal(4,\ obj.eggs);}
\DoxyCodeLine{\ \ assert.equal(false,\ obj.waffles);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2133}{}\doxysubsubsubsubsection{\texorpdfstring{It supports returning a promise}{It supports returning a promise}}\label{README.md_autotoc_md2133}
You can also return a promise from your pre hooks instead of calling {\ttfamily next()}. When the returned promise resolves, kareem will kick off the next middleware.


\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.pre('cook',\ function()\ \{}
\DoxyCodeLine{\ \ return\ new\ Promise(resolve\ =>\ \{}
\DoxyCodeLine{\ \ \ \ setTimeout(()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ this.bacon\ =\ 3;}
\DoxyCodeLine{\ \ \ \ \ \ resolve();}
\DoxyCodeLine{\ \ \ \ \},\ 100);}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{\ bacon:\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPre('cook',\ obj,\ function()\ \{}
\DoxyCodeLine{\ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2134}{}\doxysubsubsection{\texorpdfstring{post hooks}{post hooks}}\label{README.md_autotoc_md2134}
acquit\+:ignore\+:end\hypertarget{README.md_autotoc_md2135}{}\doxysubsubsubsubsection{\texorpdfstring{It runs without any hooks specified}{It runs without any hooks specified}}\label{README.md_autotoc_md2135}

\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.execPost('cook',\ null,\ [1],\ function(error,\ eggs)\ \{}
\DoxyCodeLine{\ \ assert.ifError(error);}
\DoxyCodeLine{\ \ assert.equal(1,\ eggs);}
\DoxyCodeLine{\ \ done();}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2136}{}\doxysubsubsubsubsection{\texorpdfstring{It executes with parameters passed in}{It executes with parameters passed in}}\label{README.md_autotoc_md2136}

\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.post('cook',\ function(eggs,\ bacon,\ callback)\ \{}
\DoxyCodeLine{\ \ assert.equal(1,\ eggs);}
\DoxyCodeLine{\ \ assert.equal(2,\ bacon);}
\DoxyCodeLine{\ \ callback();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPost('cook',\ null,\ [1,\ 2],\ function(error,\ eggs,\ bacon)\ \{}
\DoxyCodeLine{\ \ assert.ifError(error);}
\DoxyCodeLine{\ \ assert.equal(1,\ eggs);}
\DoxyCodeLine{\ \ assert.equal(2,\ bacon);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2137}{}\doxysubsubsubsubsection{\texorpdfstring{It can use synchronous post hooks}{It can use synchronous post hooks}}\label{README.md_autotoc_md2137}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ execed\ =\ \{\};}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.post('cook',\ function(eggs,\ bacon)\ \{}
\DoxyCodeLine{\ \ execed.first\ =\ true;}
\DoxyCodeLine{\ \ assert.equal(1,\ eggs);}
\DoxyCodeLine{\ \ assert.equal(2,\ bacon);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.post('cook',\ function(eggs,\ bacon,\ callback)\ \{}
\DoxyCodeLine{\ \ execed.second\ =\ true;}
\DoxyCodeLine{\ \ assert.equal(1,\ eggs);}
\DoxyCodeLine{\ \ assert.equal(2,\ bacon);}
\DoxyCodeLine{\ \ callback();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPost('cook',\ null,\ [1,\ 2],\ function(error,\ eggs,\ bacon)\ \{}
\DoxyCodeLine{\ \ assert.ifError(error);}
\DoxyCodeLine{\ \ assert.equal(2,\ Object.keys(execed).length);}
\DoxyCodeLine{\ \ assert.ok(execed.first);}
\DoxyCodeLine{\ \ assert.ok(execed.second);}
\DoxyCodeLine{\ \ assert.equal(1,\ eggs);}
\DoxyCodeLine{\ \ assert.equal(2,\ bacon);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2138}{}\doxysubsubsubsubsection{\texorpdfstring{It supports returning a promise}{It supports returning a promise}}\label{README.md_autotoc_md2138}
You can also return a promise from your post hooks instead of calling {\ttfamily next()}. When the returned promise resolves, kareem will kick off the next middleware.


\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.post('cook',\ function(bacon)\ \{}
\DoxyCodeLine{\ \ return\ new\ Promise(resolve\ =>\ \{}
\DoxyCodeLine{\ \ \ \ setTimeout(()\ =>\ \{}
\DoxyCodeLine{\ \ \ \ \ \ this.bacon\ =\ 3;}
\DoxyCodeLine{\ \ \ \ \ \ resolve();}
\DoxyCodeLine{\ \ \ \ \},\ 100);}
\DoxyCodeLine{\ \ \});}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{\ bacon:\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.execPost('cook',\ obj,\ obj,\ function()\ \{}
\DoxyCodeLine{\ \ assert.equal(obj.bacon,\ 3);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2139}{}\doxysubsubsection{\texorpdfstring{wrap()}{wrap()}}\label{README.md_autotoc_md2139}
acquit\+:ignore\+:end\hypertarget{README.md_autotoc_md2140}{}\doxysubsubsubsubsection{\texorpdfstring{It wraps pre and post calls into one call}{It wraps pre and post calls into one call}}\label{README.md_autotoc_md2140}

\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.pre('cook',\ true,\ function(next,\ done)\ \{}
\DoxyCodeLine{\ \ this.bacon\ =\ 3;}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\ \ setTimeout(function()\ \{}
\DoxyCodeLine{\ \ \ \ done();}
\DoxyCodeLine{\ \ \},\ 5);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ true,\ function(next,\ done)\ \{}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\ \ var\ \_this\ =\ this;}
\DoxyCodeLine{\ \ setTimeout(function()\ \{}
\DoxyCodeLine{\ \ \ \ \_this.eggs\ =\ 4;}
\DoxyCodeLine{\ \ \ \ done();}
\DoxyCodeLine{\ \ \},\ 10);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(next)\ \{}
\DoxyCodeLine{\ \ this.waffles\ =\ false;}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.post('cook',\ function(obj)\ \{}
\DoxyCodeLine{\ \ obj.tofu\ =\ 'no';}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{\ bacon:\ 0,\ eggs:\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{var\ args\ =\ [obj];}
\DoxyCodeLine{args.push(function(error,\ result)\ \{}
\DoxyCodeLine{\ \ assert.ifError(error);}
\DoxyCodeLine{\ \ assert.equal(null,\ error);}
\DoxyCodeLine{\ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\ \ assert.equal(4,\ obj.eggs);}
\DoxyCodeLine{\ \ assert.equal(false,\ obj.waffles);}
\DoxyCodeLine{\ \ assert.equal('no',\ obj.tofu);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ assert.equal(obj,\ result);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.wrap(}
\DoxyCodeLine{\ \ 'cook',}
\DoxyCodeLine{\ \ function(o,\ callback)\ \{}
\DoxyCodeLine{\ \ \ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\ \ \ \ assert.equal(4,\ obj.eggs);}
\DoxyCodeLine{\ \ \ \ assert.equal(false,\ obj.waffles);}
\DoxyCodeLine{\ \ \ \ assert.equal(undefined,\ obj.tofu);}
\DoxyCodeLine{\ \ \ \ callback(null,\ o);}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ obj,}
\DoxyCodeLine{\ \ args);}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2141}{}\doxysubsubsection{\texorpdfstring{create\+Wrapper()}{create\+Wrapper()}}\label{README.md_autotoc_md2141}
\hypertarget{README.md_autotoc_md2142}{}\doxysubsubsubsubsection{\texorpdfstring{It wraps wrap() into a callable function}{It wraps wrap() into a callable function}}\label{README.md_autotoc_md2142}

\begin{DoxyCode}{0}
\DoxyCodeLine{hooks.pre('cook',\ true,\ function(next,\ done)\ \{}
\DoxyCodeLine{\ \ this.bacon\ =\ 3;}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\ \ setTimeout(function()\ \{}
\DoxyCodeLine{\ \ \ \ done();}
\DoxyCodeLine{\ \ \},\ 5);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ true,\ function(next,\ done)\ \{}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\ \ var\ \_this\ =\ this;}
\DoxyCodeLine{\ \ setTimeout(function()\ \{}
\DoxyCodeLine{\ \ \ \ \_this.eggs\ =\ 4;}
\DoxyCodeLine{\ \ \ \ done();}
\DoxyCodeLine{\ \ \},\ 10);}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.pre('cook',\ function(next)\ \{}
\DoxyCodeLine{\ \ this.waffles\ =\ false;}
\DoxyCodeLine{\ \ next();}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{hooks.post('cook',\ function(obj)\ \{}
\DoxyCodeLine{\ \ obj.tofu\ =\ 'no';}
\DoxyCodeLine{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ obj\ =\ \{\ bacon:\ 0,\ eggs:\ 0\ \};}
\DoxyCodeLine{}
\DoxyCodeLine{var\ cook\ =\ hooks.createWrapper(}
\DoxyCodeLine{\ \ 'cook',}
\DoxyCodeLine{\ \ function(o,\ callback)\ \{}
\DoxyCodeLine{\ \ \ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\ \ \ \ assert.equal(4,\ obj.eggs);}
\DoxyCodeLine{\ \ \ \ assert.equal(false,\ obj.waffles);}
\DoxyCodeLine{\ \ \ \ assert.equal(undefined,\ obj.tofu);}
\DoxyCodeLine{\ \ \ \ callback(null,\ o);}
\DoxyCodeLine{\ \ \},}
\DoxyCodeLine{\ \ obj);}
\DoxyCodeLine{}
\DoxyCodeLine{cook(obj,\ function(error,\ result)\ \{}
\DoxyCodeLine{\ \ assert.ifError(error);}
\DoxyCodeLine{\ \ assert.equal(3,\ obj.bacon);}
\DoxyCodeLine{\ \ assert.equal(4,\ obj.eggs);}
\DoxyCodeLine{\ \ assert.equal(false,\ obj.waffles);}
\DoxyCodeLine{\ \ assert.equal('no',\ obj.tofu);}
\DoxyCodeLine{}
\DoxyCodeLine{\ \ assert.equal(obj,\ result);}
\DoxyCodeLine{\});}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2143}{}\doxysubsubsection{\texorpdfstring{clone()}{clone()}}\label{README.md_autotoc_md2143}
acquit\+:ignore\+:end\hypertarget{README.md_autotoc_md2144}{}\doxysubsubsubsubsection{\texorpdfstring{It clones a Kareem object}{It clones a Kareem object}}\label{README.md_autotoc_md2144}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ k1\ =\ new\ Kareem();}
\DoxyCodeLine{k1.pre('cook',\ function()\ \{\});}
\DoxyCodeLine{k1.post('cook',\ function()\ \{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ k2\ =\ k1.clone();}
\DoxyCodeLine{assert.deepEqual(Array.from(k2.\_pres.keys()),\ ['cook']);}
\DoxyCodeLine{assert.deepEqual(Array.from(k2.\_posts.keys()),\ ['cook']);}

\end{DoxyCode}
\hypertarget{README.md_autotoc_md2145}{}\doxysubsubsection{\texorpdfstring{merge()}{merge()}}\label{README.md_autotoc_md2145}
\hypertarget{README.md_autotoc_md2146}{}\doxysubsubsubsubsection{\texorpdfstring{It pulls hooks from another Kareem object}{It pulls hooks from another Kareem object}}\label{README.md_autotoc_md2146}

\begin{DoxyCode}{0}
\DoxyCodeLine{var\ k1\ =\ new\ Kareem();}
\DoxyCodeLine{var\ test1\ =\ function()\ \{\};}
\DoxyCodeLine{k1.pre('cook',\ test1);}
\DoxyCodeLine{k1.post('cook',\ function()\ \{\});}
\DoxyCodeLine{}
\DoxyCodeLine{var\ k2\ =\ new\ Kareem();}
\DoxyCodeLine{var\ test2\ =\ function()\ \{\};}
\DoxyCodeLine{k2.pre('cook',\ test2);}
\DoxyCodeLine{var\ k3\ =\ k2.merge(k1);}
\DoxyCodeLine{assert.equal(k3.\_pres.get('cook').length,\ 2);}
\DoxyCodeLine{assert.equal(k3.\_pres.get('cook')[0].fn,\ test2);}
\DoxyCodeLine{assert.equal(k3.\_pres.get('cook')[1].fn,\ test1);}
\DoxyCodeLine{assert.equal(k3.\_posts.get('cook').length,\ 1);}

\end{DoxyCode}
 